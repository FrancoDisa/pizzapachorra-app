import{r as o,u as re,a as ne,b as le,c as oe,d as de,j as e}from"./index-IPWKeb15.js";import{P as ie}from"./PizzaCustomizationModal-C4AobAN6.js";const G=["shift","alt","meta","mod","ctrl","control"],ce={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function O(a){return(ce[a.trim()]||a.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function V(a){return G.includes(a)}function Q(a,r=","){return a.toLowerCase().split(r)}function q(a,r="+",n=">",b=!1,x){let u=[],c=!1;a.includes(n)?(c=!0,u=a.toLocaleLowerCase().split(n).map(g=>O(g))):u=a.toLocaleLowerCase().split(r).map(g=>O(g));const N={alt:u.includes("alt"),ctrl:u.includes("ctrl")||u.includes("control"),shift:u.includes("shift"),meta:u.includes("meta"),mod:u.includes("mod"),useKey:b},h=u.filter(g=>!G.includes(g));return{...N,keys:h,description:x,isSequence:c}}typeof document<"u"&&(document.addEventListener("keydown",a=>{a.code!==void 0&&W([O(a.code)])}),document.addEventListener("keyup",a=>{a.code!==void 0&&U([O(a.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{L.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{L.clear()},0)}));const L=new Set;function $(a){return Array.isArray(a)}function ue(a,r=","){return($(a)?a:a.split(r)).every(n=>L.has(n.trim().toLowerCase()))}function W(a){const r=Array.isArray(a)?a:[a];L.has("meta")&&L.forEach(n=>!V(n)&&L.delete(n.toLowerCase())),r.forEach(n=>L.add(n.toLowerCase()))}function U(a){const r=Array.isArray(a)?a:[a];a==="meta"?L.clear():r.forEach(n=>L.delete(n.toLowerCase()))}function me(a,r,n){(typeof n=="function"&&n(a,r)||n===!0)&&a.preventDefault()}function xe(a,r,n){return typeof n=="function"?n(a,r):n===!0||n===void 0}function fe(a){return X(a,["input","textarea","select"])}function X(a,r=!1){const{target:n,composed:b}=a;let x;return he(n)&&b?x=a.composedPath()[0]&&a.composedPath()[0].tagName:x=n&&n.tagName,$(r)?!!(x&&r&&r.some(u=>u.toLowerCase()===x.toLowerCase())):!!(x&&r&&r)}function he(a){return!!a.tagName&&!a.tagName.startsWith("-")&&a.tagName.includes("-")}function ge(a,r){return a.length===0&&r?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):r?a.some(n=>r.includes(n))||a.includes("*"):!0}const pe=(a,r,n=!1)=>{const{alt:b,meta:x,mod:u,shift:c,ctrl:N,keys:h,useKey:g}=r,{code:S,key:s,ctrlKey:y,metaKey:j,shiftKey:w,altKey:p}=a,_=O(S);if(g&&(h==null?void 0:h.length)===1&&h.includes(s))return!0;if(!(h!=null&&h.includes(_))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!n){if(b!==p&&_!=="alt"||c!==w&&_!=="shift")return!1;if(u){if(!j&&!y)return!1}else if(x!==j&&_!=="meta"&&_!=="os"||N!==y&&_!=="ctrl"&&_!=="control")return!1}return h&&h.length===1&&h.includes(_)?!0:h?ue(h):!h},be=o.createContext(void 0),ve=()=>o.useContext(be);function Y(a,r){return a&&r&&typeof a=="object"&&typeof r=="object"?Object.keys(a).length===Object.keys(r).length&&Object.keys(a).reduce((n,b)=>n&&Y(a[b],r[b]),!0):a===r}const ye=o.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),_e=()=>o.useContext(ye);function je(a){const r=o.useRef(void 0);return Y(r.current,a)||(r.current=a),r.current}const J=a=>{a.stopPropagation(),a.preventDefault(),a.stopImmediatePropagation()},Ne=typeof window<"u"?o.useLayoutEffect:o.useEffect;function m(a,r,n,b){const x=o.useRef(null),u=o.useRef(!1),c=n instanceof Array?b instanceof Array?void 0:b:n,N=$(a)?a.join(c==null?void 0:c.delimiter):a,h=n instanceof Array?n:b instanceof Array?b:void 0,g=o.useCallback(r,h??[]),S=o.useRef(g);h?S.current=g:S.current=r;const s=je(c),{activeScopes:y}=_e(),j=ve();return Ne(()=>{if((s==null?void 0:s.enabled)===!1||!ge(y,s==null?void 0:s.scopes))return;let w=[],p;const _=(l,z=!1)=>{var C;if(!(fe(l)&&!X(l,s==null?void 0:s.enableOnFormTags))){if(x.current!==null){const v=x.current.getRootNode();if((v instanceof Document||v instanceof ShadowRoot)&&v.activeElement!==x.current&&!x.current.contains(v.activeElement)){J(l);return}}(C=l.target)!=null&&C.isContentEditable&&!(s!=null&&s.enableOnContentEditable)||Q(N,s==null?void 0:s.delimiter).forEach(v=>{var A,M,R,E;if(v.includes((s==null?void 0:s.splitKey)??"+")&&v.includes((s==null?void 0:s.sequenceSplitKey)??">")){console.warn(`Hotkey ${v} contains both ${(s==null?void 0:s.splitKey)??"+"} and ${(s==null?void 0:s.sequenceSplitKey)??">"} which is not supported.`);return}const i=q(v,s==null?void 0:s.splitKey,s==null?void 0:s.sequenceSplitKey,s==null?void 0:s.useKey,s==null?void 0:s.description);if(i.isSequence){p=setTimeout(()=>{w=[]},(s==null?void 0:s.sequenceTimeoutMs)??1e3);const F=i.useKey?l.key:O(l.code);if(V(F.toLowerCase()))return;w.push(F);const T=(A=i.keys)==null?void 0:A[w.length-1];if(F!==T){w=[],p&&clearTimeout(p);return}w.length===((M=i.keys)==null?void 0:M.length)&&(S.current(l,i),p&&clearTimeout(p),w=[])}else if(pe(l,i,s==null?void 0:s.ignoreModifiers)||(R=i.keys)!=null&&R.includes("*")){if((E=s==null?void 0:s.ignoreEventWhen)!=null&&E.call(s,l)||z&&u.current)return;if(me(l,i,s==null?void 0:s.preventDefault),!xe(l,i,s==null?void 0:s.enabled)){J(l);return}S.current(l,i),z||(u.current=!0)}})}},K=l=>{l.code!==void 0&&(W(O(l.code)),((s==null?void 0:s.keydown)===void 0&&(s==null?void 0:s.keyup)!==!0||s!=null&&s.keydown)&&_(l))},P=l=>{l.code!==void 0&&(U(O(l.code)),u.current=!1,s!=null&&s.keyup&&_(l,!0))},D=x.current||(c==null?void 0:c.document)||document;return D.addEventListener("keyup",P,c==null?void 0:c.eventListenerOptions),D.addEventListener("keydown",K,c==null?void 0:c.eventListenerOptions),j&&Q(N,s==null?void 0:s.delimiter).forEach(l=>j.addHotkey(q(l,s==null?void 0:s.splitKey,s==null?void 0:s.sequenceSplitKey,s==null?void 0:s.useKey,s==null?void 0:s.description))),()=>{D.removeEventListener("keyup",P,c==null?void 0:c.eventListenerOptions),D.removeEventListener("keydown",K,c==null?void 0:c.eventListenerOptions),j&&Q(N,s==null?void 0:s.delimiter).forEach(l=>j.removeHotkey(q(l,s==null?void 0:s.splitKey,s==null?void 0:s.sequenceSplitKey,s==null?void 0:s.useKey,s==null?void 0:s.description))),w=[],p&&clearTimeout(p)}},[N,s,y]),x}const we=[{id:1,nombre:"Juan Carlos Pérez",telefono:"099123456",direccion:"Av. 18 de Julio 1234",created_at:"2024-01-15",updated_at:"2024-01-15"},{id:2,nombre:"María Fernanda González",telefono:"099456789",direccion:"Bvar. Artigas 567",created_at:"2024-01-20",updated_at:"2024-01-20"},{id:3,nombre:"Pedro Luis Rodríguez",telefono:"099789123",direccion:"Canelones 890",created_at:"2024-02-01",updated_at:"2024-02-01"},{id:4,nombre:"Ana Sofía Martínez",telefono:"099321654",direccion:"Pocitos 123",created_at:"2024-02-05",updated_at:"2024-02-05"},{id:5,nombre:"Carlos Alberto Silva",telefono:"099654987",direccion:"Cordón 456",created_at:"2024-02-10",updated_at:"2024-02-10"},{id:6,nombre:"Lucía Beatriz Fernández",telefono:"099147258",direccion:"Punta Carretas 789",created_at:"2024-02-15",updated_at:"2024-02-15"},{id:7,nombre:"Roberto Daniel López",telefono:"099369741",direccion:"Centro 321",created_at:"2024-02-20",updated_at:"2024-02-20"},{id:8,nombre:"Patricia Elena García",telefono:"099852963",direccion:"Malvín 654",created_at:"2024-02-25",updated_at:"2024-02-25"}];function Se(){const a=re();ne();const r=le(),n=oe(),{addItemToOrder:b,addCustomizedItemToOrder:x,updateCustomizedItemInOrder:u,updateOrderItemQuantity:c,removeItemFromOrder:N,clearCurrentOrder:h,setOrderCustomer:g}=de(),[S,s]=o.useState(1),[y,j]=o.useState(""),[w,p]=o.useState(!1),[_,K]=o.useState(null),[P,D]=o.useState(!1),[l,z]=o.useState({nombre:"",telefono:"",direccion:""}),[C,v]=o.useState({isOpen:!1}),A=o.useRef(null),M=o.useRef(null),[R,E]=o.useState(0),i=a.slice(0,5),F=o.useCallback(t=>t.trim()?we.filter(d=>{var k;return((k=d.nombre)==null?void 0:k.toLowerCase().includes(t.toLowerCase()))||d.telefono.includes(t)}).slice(0,5):[],[]),T=o.useCallback(t=>{j(t),p(t.length>0)},[]),Z=o.useCallback(t=>{K(t),g(t),j(""),p(!1)},[g]),ee=o.useCallback(()=>{const t=y.trim();z({nombre:t.length>2&&!t.match(/^\d+$/)?t:"",telefono:t.match(/^\d+$/)?t:"",direccion:""}),D(!0),p(!1)},[y]),te=o.useCallback(()=>{if(l.nombre.trim()&&l.telefono.trim()){const t={id:Date.now(),nombre:l.nombre.trim(),telefono:l.telefono.trim(),direccion:l.direccion.trim()||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};K(t),g(t),j(""),D(!1),z({nombre:"",telefono:"",direccion:""})}},[l,g]),B=o.useCallback(()=>{D(!1),z({nombre:"",telefono:"",direccion:""})},[]);m("f1",()=>i[0]&&I(i[0]),{preventDefault:!0}),m("f2",()=>i[1]&&I(i[1]),{preventDefault:!0}),m("f3",()=>i[2]&&I(i[2]),{preventDefault:!0}),m("f4",()=>i[3]&&I(i[3]),{preventDefault:!0}),m("f5",()=>i[4]&&I(i[4]),{preventDefault:!0}),m("c",()=>{var t;(t=A.current)==null||t.focus(),E(0)},{preventDefault:!0}),m("escape",()=>{var t;(t=A.current)==null||t.blur(),E(-1)},{preventDefault:!0}),m("tab",()=>{var d,k;const t=(R+1)%2;switch(E(t),t){case 0:(d=A.current)==null||d.focus();break;case 1:(k=M.current)==null||k.focus();break}},{preventDefault:!0}),m("enter",()=>{R===1&&i[0]&&I(i[0])},{preventDefault:!0}),m("plus",()=>s(t=>Math.min(t+1,99)),{preventDefault:!0}),m("minus",()=>s(t=>Math.max(t-1,1)),{preventDefault:!0}),m("1",()=>s(1),{preventDefault:!0}),m("2",()=>s(2),{preventDefault:!0}),m("3",()=>s(3),{preventDefault:!0}),m("4",()=>s(4),{preventDefault:!0}),m("5",()=>s(5),{preventDefault:!0}),m("6",()=>s(6),{preventDefault:!0}),m("7",()=>s(7),{preventDefault:!0}),m("8",()=>s(8),{preventDefault:!0}),m("9",()=>s(9),{preventDefault:!0});const I=o.useCallback(t=>{"precio_base"in t&&v({isOpen:!0,pizza:t})},[]),se=o.useCallback(t=>{C.editingItem?u(t):x(t),v({isOpen:!1}),s(1)},[C.editingItem,x,u]),ae=o.useCallback(t=>{const d=a.find(k=>k.id===t.pizza_id)||(t.es_mitad_y_mitad?a[0]:void 0);d&&v({isOpen:!0,pizza:d,editingItem:t})},[a]);return e.jsxs("div",{className:"min-h-screen bg-gray-900 p-4",children:[e.jsx("div",{className:"mb-4 bg-gray-800 rounded-lg p-3 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-lg font-bold text-white",children:"⚡ Quick Entry"}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:["🍕 ",e.jsx("kbd",{className:"bg-blue-600 px-1 rounded text-white",children:"F1-F5"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:["👤 ",e.jsx("kbd",{className:"bg-purple-600 px-1 rounded text-white",children:"C"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:["🔢 ",e.jsx("kbd",{className:"bg-orange-600 px-1 rounded text-white",children:"1-9"})]}),e.jsxs("div",{className:"bg-yellow-600/20 px-2 py-1 rounded text-yellow-300",children:["Qty: ",e.jsx("span",{className:"font-bold",children:S})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"🍕 Pizzas Principales (F1-F5)"}),e.jsx("div",{className:"space-y-2",children:i.map((t,d)=>e.jsxs("button",{ref:d===0?M:null,onClick:()=>I(t),onFocus:()=>E(1),className:"w-full p-3 rounded-lg transition-all text-left border-2 bg-gray-700 hover:bg-gray-600 border-transparent hover:border-blue-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-400",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-xs text-blue-400 font-bold bg-blue-900/30 px-2 py-1 rounded min-w-[2rem] text-center",children:["F",d+1]}),e.jsx("div",{className:"text-white font-medium",children:t.nombre})]}),e.jsxs("div",{className:"text-green-400 font-bold text-lg",children:["$",Math.round(parseFloat(t.precio_base))]})]}),e.jsxs("div",{className:"text-gray-400 text-xs",children:[t.ingredientes.slice(0,4).join(", "),t.ingredientes.length>4&&"..."]})]},t.id))})]})}),e.jsxs("div",{className:"space-y-3 flex flex-col h-full",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 relative",children:[e.jsxs("h3",{className:"text-sm font-medium text-white mb-2 flex items-center gap-2",children:["👤 Cliente ",e.jsx("kbd",{className:"bg-gray-600 px-1 rounded text-xs",children:"C"})]}),r.cliente?e.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[e.jsx("div",{className:"text-green-400 font-medium text-sm",children:r.cliente.nombre}),e.jsx("div",{className:"text-green-300 text-xs",children:r.cliente.telefono}),r.cliente.direccion&&e.jsxs("div",{className:"text-green-200 text-xs",children:["📍 ",r.cliente.direccion]}),e.jsx("button",{onClick:()=>{g({}),K(null),j("")},className:"mt-1 text-xs text-gray-400 hover:text-white",children:"Cambiar"})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"🔍"}),e.jsx("input",{ref:A,type:"text",placeholder:"Buscar por teléfono o nombre...",value:y,onChange:t=>T(t.target.value),onFocus:()=>{E(0),p(y.length>0)},onBlur:()=>{setTimeout(()=>p(!1),200)},className:"w-full pl-8 pr-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),w&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-gray-700 border border-gray-600 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:[(()=>{const t=F(y);return t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 text-xs text-gray-400 bg-gray-800/50",children:"📋 Clientes encontrados:"}),t.map(d=>e.jsxs("button",{onClick:()=>Z(d),className:"w-full px-3 py-2 text-left hover:bg-gray-600 border-b border-gray-600 last:border-b-0",children:[e.jsxs("div",{className:"text-white text-sm font-medium",children:["👤 ",d.nombre]}),e.jsxs("div",{className:"text-gray-300 text-xs",children:["📱 ",d.telefono]}),d.direccion&&e.jsxs("div",{className:"text-gray-400 text-xs",children:["📍 ",d.direccion]})]},d.id))]}):e.jsx("div",{className:"px-3 py-2 text-xs text-gray-400",children:"❌ No se encontraron clientes"})})(),y.trim()&&e.jsxs("button",{onClick:ee,className:"w-full px-3 py-2 text-left hover:bg-blue-600 bg-blue-700 text-white border-t border-gray-600",children:[e.jsx("div",{className:"text-white text-sm font-medium",children:"➕ Crear nuevo cliente"}),e.jsxs("div",{className:"text-blue-200 text-xs",children:['"',y,'"']})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 flex-1",children:[e.jsxs("h3",{className:"text-sm font-medium text-white mb-2 flex items-center justify-between",children:[e.jsx("span",{children:"🧾 Ticket"}),e.jsxs("span",{className:"text-xs bg-blue-900/30 px-2 py-1 rounded",children:[n.length," items"]})]}),n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx("div",{className:"text-4xl mb-2",children:"🍕"}),e.jsx("p",{children:"Ticket vacío"}),e.jsx("p",{className:"text-sm",children:"Agrega pizzas desde el menú"})]}):e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.map(t=>{var d,k,H;return e.jsxs("div",{className:"bg-gray-700 rounded p-2",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[t.es_mitad_y_mitad?e.jsxs("div",{className:"text-white font-medium",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{children:"🍕 Mitad y Mitad"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-gray-600 rounded p-1",children:[e.jsx("div",{className:"text-blue-300 font-medium",children:"Izquierda:"}),e.jsx("div",{className:"text-gray-300",children:t.pizza_mitad_1&&((d=a.find(f=>f.id===t.pizza_mitad_1))==null?void 0:d.nombre)||"Sin seleccionar"})]}),e.jsxs("div",{className:"bg-gray-600 rounded p-1",children:[e.jsx("div",{className:"text-orange-300 font-medium",children:"Derecha:"}),e.jsx("div",{className:"text-gray-300",children:t.pizza_mitad_2&&((k=a.find(f=>f.id===t.pizza_mitad_2))==null?void 0:k.nombre)||"Sin seleccionar"})]})]})]}):e.jsx("div",{className:"text-white font-medium",children:(H=t.pizza)==null?void 0:H.nombre}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Cantidad: ",t.cantidad]}),t.es_mitad_y_mitad?e.jsxs("div",{className:"text-xs mt-2 space-y-1",children:[(t.mitad1_extras_agregados_data&&t.mitad1_extras_agregados_data.length>0||t.mitad1_extras_removidos_data&&t.mitad1_extras_removidos_data.length>0)&&e.jsxs("div",{className:"bg-blue-900/30 rounded p-1",children:[e.jsx("div",{className:"text-blue-200 font-medium text-xs",children:"🟦 Mitad 1"}),t.mitad1_extras_agregados_data&&t.mitad1_extras_agregados_data.length>0&&e.jsxs("div",{className:"text-green-400 font-medium",children:["➕ ",t.mitad1_extras_agregados_data.map(f=>f.nombre).join(", ")]}),t.mitad1_extras_removidos_data&&t.mitad1_extras_removidos_data.length>0&&e.jsxs("div",{className:"text-red-400 font-medium",children:["➖ ",t.mitad1_extras_removidos_data.map(f=>f.nombre).join(", ")]})]}),(t.mitad2_extras_agregados_data&&t.mitad2_extras_agregados_data.length>0||t.mitad2_extras_removidos_data&&t.mitad2_extras_removidos_data.length>0)&&e.jsxs("div",{className:"bg-orange-900/30 rounded p-1",children:[e.jsx("div",{className:"text-orange-200 font-medium text-xs",children:"🟧 Mitad 2"}),t.mitad2_extras_agregados_data&&t.mitad2_extras_agregados_data.length>0&&e.jsxs("div",{className:"text-green-400 font-medium",children:["➕ ",t.mitad2_extras_agregados_data.map(f=>f.nombre).join(", ")]}),t.mitad2_extras_removidos_data&&t.mitad2_extras_removidos_data.length>0&&e.jsxs("div",{className:"text-red-400 font-medium",children:["➖ ",t.mitad2_extras_removidos_data.map(f=>f.nombre).join(", ")]})]}),(t.ambas_mitades_extras_agregados_data&&t.ambas_mitades_extras_agregados_data.length>0||t.ambas_mitades_extras_removidos_data&&t.ambas_mitades_extras_removidos_data.length>0)&&e.jsxs("div",{className:"bg-purple-900/30 rounded p-1",children:[e.jsx("div",{className:"text-purple-200 font-medium text-xs",children:"🔮 Ambas"}),t.ambas_mitades_extras_agregados_data&&t.ambas_mitades_extras_agregados_data.length>0&&e.jsxs("div",{className:"text-green-400 font-medium",children:["➕ ",t.ambas_mitades_extras_agregados_data.map(f=>f.nombre).join(", ")]}),t.ambas_mitades_extras_removidos_data&&t.ambas_mitades_extras_removidos_data.length>0&&e.jsxs("div",{className:"text-red-400 font-medium",children:["➖ ",t.ambas_mitades_extras_removidos_data.map(f=>f.nombre).join(", ")]})]})]}):t.extras_agregados_data&&t.extras_agregados_data.length>0||t.extras_removidos_data&&t.extras_removidos_data.length>0?e.jsxs("div",{className:"text-xs mt-2 bg-gray-700/50 rounded p-2 space-y-1",children:[t.extras_agregados_data&&t.extras_agregados_data.length>0&&e.jsxs("div",{className:"text-green-400 font-medium",children:["➕ ",t.extras_agregados_data.map(f=>f.nombre).join(", ")]}),t.extras_removidos_data&&t.extras_removidos_data.length>0&&e.jsxs("div",{className:"text-red-400 font-medium",children:["➖ ",t.extras_removidos_data.map(f=>f.nombre).join(", ")]})]}):null,t.notas&&e.jsxs("div",{className:"text-xs text-yellow-300 mt-1 italic",children:["📝 ",t.notas]})]}),e.jsxs("div",{className:"text-green-400 font-bold",children:["$",Math.round(t.precio_unitario*t.cantidad)]})]}),e.jsxs("div",{className:"flex gap-1 mt-2",children:[e.jsx("button",{onClick:()=>c(t.id,t.cantidad+1),className:"px-2 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded",title:"Agregar cantidad",children:"+"}),e.jsx("button",{onClick:()=>{t.cantidad>1?c(t.id,t.cantidad-1):N(t.id)},className:"px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded",title:"Reducir cantidad",children:"-"}),e.jsx("button",{onClick:()=>ae(t),className:"px-2 py-1 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded",title:"Editar",children:"✏️"}),e.jsx("button",{onClick:()=>N(t.id),className:"px-2 py-1 bg-gray-600 hover:bg-gray-500 text-white text-xs rounded",title:"Eliminar",children:"🗑️"})]})]},t.id)})}),n.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[e.jsxs("div",{className:"flex justify-between text-xl font-bold text-white mb-4",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",Math.round(r.total)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:h,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:"Limpiar Ticket"}),e.jsx("button",{disabled:!r.cliente_id,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded transition-colors",children:"Confirmar Pedido"})]}),!r.cliente_id&&e.jsx("p",{className:"text-xs text-yellow-400 mt-2 text-center",children:"Agrega un cliente para confirmar"})]})]})]})]}),P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"➕ Nuevo Cliente"}),e.jsx("button",{onClick:B,className:"text-gray-400 hover:text-white text-xl",children:"✕"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Nombre ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Nombre completo del cliente",value:l.nombre,onChange:t=>z(d=>({...d,nombre:t.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Teléfono ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"tel",placeholder:"099123456",value:l.telefono,onChange:t=>z(d=>({...d,telefono:t.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Dirección ",e.jsx("span",{className:"text-gray-400",children:"(opcional)"})]}),e.jsx("input",{type:"text",placeholder:"Av. 18 de Julio 1234",value:l.direccion,onChange:t=>z(d=>({...d,direccion:t.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(!l.nombre.trim()||!l.telefono.trim())&&e.jsx("div",{className:"text-red-400 text-sm",children:"⚠️ Nombre y teléfono son requeridos"})]}),e.jsxs("div",{className:"flex gap-3 p-4 border-t border-gray-700",children:[e.jsx("button",{onClick:B,className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:te,disabled:!l.nombre.trim()||!l.telefono.trim(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded transition-colors",children:"Crear Cliente"})]})]})}),C.isOpen&&C.pizza&&e.jsx(ie,{isOpen:C.isOpen,onClose:()=>v({isOpen:!1}),onConfirm:se,pizza:C.pizza,editingItem:C.editingItem,initialQuantity:C.editingItem?void 0:S})]})}export{Se as default};
//# sourceMappingURL=Model1QuickEntry-C8it75iP.js.map
